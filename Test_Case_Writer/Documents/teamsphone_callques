This browser is no longer supported.
Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.
Share via
Create a Call queue in Microsoft Teams
In this article
Call queues route callers to people in your organization who can help with a particular issue or question. Calls are distributed one at a time to the people in the queue, who are known asagents.
Call queues provide:
Before you follow the procedures in this article, be sure you have readPlan for Teams Auto attendants and Call queuesand followed thegetting started steps.
What's new for Call queues in the past six months
Steps to create a Call queue
The steps to set up a Call queue includes:
The steps outlined in the article create Call queues using the Teams admin center. For instructions to create Call queues using PowerShell, seeCreating Call queues with PowerShell cmdlets.
Follow these steps to set up your Call queue
Step 1: Set up general information
To set up a Call queue, in theTeams admin center, expandVoice, selectCall queues, and then selectAdd.
Type a name for the Call queue in the box at the top.
Add an existing resource account
All Call queues must have an associated resource account. All resource accounts must be assigned aMicrosoft Teams Phone Resource Account license. If you wish, you can assign several resource accounts to a Call queue.
To add an existing resource account:
Create a new resource account:
Note
Remember to assign aMicrosoft Teams Phone Resource Account license.
Agents see the resource account name when they receive an incoming call.
For more information, seeManage Teams resource accounts.
Assign a calling ID (optional)
Available for Teams channel/collaborative calling desktop users and Teams mobile client users with standard Call queues.
Assign outbound caller ID numbers for the agents by specifying one or more resource accounts with a phone number. Agents can select which outbound caller ID number to use with each outbound call they make. Within the Calls App, agents can use their Call Queue (CQ) / Auto Attendant (AA) number or their own personal Direct InWard Dial (DID).
Note
The resource account used for calling ID purposes must have aMicrosoft Teams Phone Resource Accountlicense and one of the following assigned:
If you don't have a resource account with an assigned phone number:
After you create this new resource account for calling ID, you still need to:
Set the Call queue language
Choose asupported language.
This language is used for system-generated voice prompts and voicemail transcription, if you enable them.
After you select a language, select theNextbutton at the bottom of theAdd a Call queuepage.
Step 2: Add a greeting and on-hold music
Specify if you want to play agreetingto callers when they arrive in the queue.
Note
When usingText to Speech, the text must be entered in the selected language as the system doesn't perform translation.
All words will be pronounced in the selected language.
Teams provides default music to callers while they'reon hold in a queue.
Note
You are responsible for independently clearing and securing all necessary rights and permissions to use any music or audio file with your Microsoft Teams service, which may include intellectual property and other rights in any music, sound effects, audio, brands, names, and other content in the audio file from all relevant rights holders, which may include artists, actors, performers, musicians, songwriters, composers, record labels, music publishers, unions, guilds, rights societies, collective management organizations and any other parties who own, control or license the music copyrights, sound effects, audio and other intellectual property rights.
After you select a greeting and on-hold music, select theNextbutton at the bottom of theAdd a Call queuepage.
Step 3: Set up who answers incoming calls
Review theprerequisites for adding agents to a Call queue.
Teams channel
You can add up to 200 agents via a Teams channel. You must be a member of the team or the creator or owner of the channel to add a channel to the queue.
Using a Teams channel to manage the queue:
The following clients are supported when using a Teams channel for Call queues:
Note
If you use this option, it can take up to 24 hours for the Call queue to be fully operational.
If there are more than 200 members in the team, only the first 200 members, in alphabetical order, will be added as agents to the Call queue.
Users and groups
You can add up to 20 agents individually and up to 200 agents via groups.
If you want to add individual users or groups to the queue:
Toadd a userto the queue:
Toadd a groupto the queue:
Note
New users added to a group can take up to eight hours for their first call to arrive.
If there are more than 200 members in the group, only the first 200 members, in alphabetical order, will be added as agents to the Call queue.
Important
Known issue: Assigning private channels to Call queues
When using a private channel calls will be distributed to all members of the team even if the private channel only has a subset of team members.
You may experience this problem when trying to assign a private channel to a Call queue. This problem may occur even if the Call queue previously had a private channel assigned or if the private channel was previously assigned to a Call queue.
If you already have private channels assigned to Call queue they will continue to work. This problem only affects new assignments.
Support continues to work on identifying the root cause of this problem.
Conference mode
Conference modereduces the amount of time it takes for a caller to be connected to an agent after the agent accepts the call. For conference mode to work, agents in the Call queue must use one of the following clients:
Agents' Teams accounts must be set to TeamsOnly mode. Agents who don't meet the requirements aren't included in the call routing list. We recommend enabling conference mode for your Call queues if your agents are using compatible clients.
Tip
SettingConference modetoOnis the recommended setting.
Once you select your call answering options, select theNextbutton at the bottom of theAdd a Call queuepage.
Note
Conference mode isn't supported for calls that are routed to the queue from a Direct Routing gateway that's enabled for Location Based Routing.
Conference mode isn't supported for calls that are routed to the queue from Skype for Business Server.
Conference mode is required if Teams users need to consult/transfer calls with Call queues.
Agents may hear the configured music on hold in queue for up to 2 seconds when first joining the call.
Important
Transfer mode (when conference mode is disabled) is now in legacy mode.  Support for transfer mode is scheduled to be removed by the end of 2024.
Step 4: Select your agent routing options
Note
When usingLongest idleand when there are less calls in queue than available agents, only the first two longest idle agents will be presented with calls from the queue.
When usingLongest idle, there may be times when an agent receives a call from the queue shortly after becoming unavailable, or a short delay in receiving a call from the queue after becoming available.
Call Queue call presentation to agents may conflict with Location Based Routing restrictions. In this case, the agent will receive a call toast but can't answer the call. This condition will continue until another agent is available to answer the call, the caller hangs up, or the Call queue timeout condition occurs.
Routing methoddetermines the order in which agents receive calls from the queue.
Choose from these options:
Attendant routingrings all agents in the queue at the same time. The first call agent to pick up the call gets the call.
Serial routingrings all call agents one by one in the order specified in theCall agentslist. If an agent dismisses or doesn't pick up a call, the call will ring the next agent. This cycle repeats until the call is answered, times out, or the caller hangs up.
Round robinbalances the routing of incoming calls so that each call agent gets the same number of calls from the queue.
Longest idleroutes each call to the agent who has been idle the longest. An agent is considered idle if their presence state isAvailable. Agents who aren't available don't receive calls until they change their presence toAvailable.
Tip
Setting theRouting MethodtoRound robinorLongest idleis the recommended setting.
Presence-based call routing
Presence-based call routinguses the availability status of call agents to determine whether an agent should be included in the call routing list for the selected routing method.
Call agents whose availability status is set toAvailableare included in the call routing list and can receive calls. Agents whose availability status is set to any other status are excluded from the call routing list and can't receive calls until their availability status changes back toAvailable.
You can enablepresence-based call routingwith any of the routing methods.
If an agent opts out of getting calls, they can't receive calls regardless of their availability status.
Tip
Setting thePresence-based routingtoonis the recommended setting.
Note
WhenLongest idleis selected as the routing method, presence-based routing is required and automatically enabled even though the Presence-based routing toggle will beOffand grayed out.
If presence-based routing isn't enabled and there are multiple calls in the queue, the system will present these calls simultaneously to the agents regardless of their presence status. This action will result in multiple call notifications to agents, particularly if some agents don’t answer the initial call presented to them.
When usingPresence-based routing, there may be times when an agent receives a call from the queue shortly after becoming unavailable or a short delay in receiving a call from the queue after becoming available.
Agents who use the Skype for Business client aren't included in the call routing list when presence-based routing is enabled. If you have agents who use Skype for Business, don't enable presence-based call routing.
Call agents can opt out of taking calls
You can specify whether call agents have the ability to opt out of taking calls or not.
We recommend turning onCall agents can opt out of taking calls.
Agent alert time
Agent alert timespecifies how long an agent's phone will ring before the queue redirects the call to the next agent.
Tip
Setting theAgent alert timeto a minimum20 secondsis the recommended setting.
Once you select your agent call routing options, select theNextbutton at the bottom of theAdd a Call queuepage.
Step 5: Exception handling
Exception handlingdetermines how calls are handled when certain exceptions occur.
Each exception allows you todisconnectthe call orredirectit to any of the call routing destinations.
For example, whenOverflowoccurs, you might send calls to a backup Call queue, but whenTimeoutorNo Agentsoccurs, you might want the callers to leave a shared voicemail.
Note
For external transfers, seePrerequisitesand theexternal phone number transfers - technical detailsfor number formatting.
Don't include any special characters in the greeting message when redirecting toVoicemail (shared).
The Overflow, Call timeout and No Agents exception redirect options forPerson in organizationandVoicemail personalsupport additional prompting. For more information, seeAdditional messaging
Overflow: Set how to handle call overflow
Maximum calls in the queuespecifies the maximum number of calls that can wait in the queue at any given time.
The default is 50, but it can range from 0 to 200.
When this limit is reached, the call is handled as specified by theWhen the maximum number of calls is reachedsetting.
This limit applies only to calls that are waiting in queue to be answered.
Note
If the maximum number of calls is set to 0, the greeting message can't play.
Call timeout: Set how to handle call timeouts
Call Timeout: maximum wait timespecifies the maximum time a call can be on hold in the queue before it's redirected or disconnected.
You can specify a value from 0 seconds to 45 minutes.
No Agents Opted/Logged In: Set how to handle calls when no agents are opted/logged into the queue
This call exception handling option handles calls when no agents are opted into the queue or all agents are logged out of the queue.
Apply to All or New Callscontrols whether or not the no agents call treatment applies to:
Note
TheNo Agentshandling exception occurs under the following conditions:
If agents are logged in or opted in, then calls will be queued.
Once you select your call overflow, call timeout, and no agents handling options, select theNextbutton at the bottom of theAdd a Call queuepage.
Step 6: Authorized users
Authorized usersspecifies the users who are authorized to make changes to this Call queue.  The capabilities that the users have are based on theTeams voice applications policythat's assigned to the user.
Toadd a userto the authorized users:
Important
A user must have a policy assigned that enables at least one type of configuration change and must also be assigned as an authorized user to at least one Auto attendant or Call queue.
A user can't make any configuration changes if:
Note
A maximum of 15 authorized users can be assigned to the Call queue.
For more information, seeSet up authorized users.
Once you select your authorized users, select theSubmitbutton at the bottom of theAdd a Call queuepage.
Summary of recommended Call queue settings
The following settings are recommended:
Extra functionality available through PowerShell cmdlets
Caution
These configuration options are currently only available through PowerShell cmdlets and they don't appear in Teams admin center. If these options are configured through PowerShell, any changes to the Call queue through Teams admin center will erase these settings.
Additional messaging
The Overflow, Call timeout and No Agents exception redirect options forPerson in organizationandVoicemail personalsupport additional prompting just like the other redirect options.
For more information, see:
Hiding authorized users
Hidden authorized users are authorized users who shouldn't appear on the list of supervisors for the agents who are members of a particular call queue.
Note that hidden authorized users aren't visible to Queues app users.
For more information, see:
Resources for complex scenarios
Call queue feature compatibility
Notes
Supported clients
The following clients are supported for call agents in a Call queue:
Note
Call queues that are assigned a direct routing number don't support Skype for Business clients, Lync clients, or Skype for Business IP Phones as agents. The Teams client is only supported with aco-existence mode of Teams Only.
Call Queue Diagnostic Tool
If you're an administrator, you can use the following diagnostic tool to validate that a Call queue is able to receive calls:
SelectRun Tests, which populates the diagnostic in the Microsoft 365 Admin Center.
Run Tests: Teams Call Queue
In the Run diagnostic pane, enter the Resource Account in theUsername or Emailfield, and then selectRun Tests.
The tests will return the best next steps to address any tenant, policy, and resource account configurations to validate that the Call queue is able to receive calls.
Related articles
Here's what you get with Microsoft Teams Phone.
Getting service phone numbers.
Country and region availability for Audio Conferencing and Calling Plans.
Feedback
Was this page helpful?
Feedback
Coming soon: Throughout 2024 we will be phasing out GitHub Issues as the feedback mechanism for content and replacing it with a new feedback system. For more information see:https://aka.ms/ContentUserFeedback.
Submit and view feedback for
Additional resources
Additional resources
In this article
New-CsCallQueue (For new call queues) Set-CsCallQueue (For existing call queues)
-OverflowRedirectPersonTextToSpeechPrompt -OverflowRedirectPersonTextToSpeechPrompt
-OverflowRedirectPersonAudioFilePrompt -OverflowRedirectPersonAudioFilePrompt
-OverflowRedirectVoicemailTextToSpeechPrompt -OverflowRedirectVoicemailTextToSpeechPrompt
-OverflowRedirectVoicemailAudioFilePrompt -OverflowRedirectVoicemailAudioFilePrompt
-TimeoutRedirectPersonTextToSpeechPrompt -TimeoutRedirectPersonTextToSpeechPrompt
-TimeoutRedirectPersonAudioFilePrompt -TimeoutRedirectPersonAudioFilePrompt
-TimeoutRedirectVoicemailTextToSpeechPrompt -TimeoutRedirectVoicemailTextToSpeechPrompt
-TimeoutRedirectVoicemailAudioFilePrompt -TimeoutRedirectVoicemailAudioFilePrompt
-NoAgentRedirectPersonTextToSpeechPrompt -NoAgentRedirectPersonTextToSpeechPrompt
-NotAgentRedirectPersonAudioFilePrompt -NotAgentRedirectPersonAudioFilePrompt
-NoAgentRedirectVoicemailTextToSpeechPrompt -NoAgentRedirectVoicemailTextToSpeechPrompt
-NoAgentRedirectVoicemailAudioFilePrompt -NoAgentRedirectVoicemailAudioFilePrompt
New-CsCallQueue (For new call queues) Set-CsCallQueue (For existing call queues)
-HideAuthorizedUsers -HideAuthorizedUsers
Feature Teams Desktop1 Teams Web Teams Mobile App2 Teams Phone Mobile3 Skype for Business IP Phones Standard Call Queues Channel Based Call Queues Comment
Agent Routing Methods
Attendant Routing Y Y Y Y Y Y Y Y Default
Longest Idle4 Y Y Y Y N Y Y Y Recommended
Round Robin Y Y Y Y Y Y Y Y Recommended
Serial Y Y Y Y Y Y Y5 Y5
Agent Routing Options
Presence Based Routing4 Y Y Y Y11 N Y Y Y Default
Agents can opt out Y Y Y Y11 Y8 Y8 Y Y Default
Transfer Modes
Conference Mode6 Y Y Y Y N Y7 Y Y Default
Transfer Mode Y Y Y Y Y Y Y Y
Collaborative Calling
Channel Based Queues Y N N N N N N/A Y9 Agents on non-supported devices can still answer calls however they won't have the collaborative calling user interface
Dynamic caller ID
Standard Call queue Y Y Y N N N Y N/A
Channel based Call queue Y N/A N/A N/A N/A N/A N/A Y
PSTN Connectivity Methods         See Note 10
Calling Plans Y Y Y Y Y Y Y Y
Direct Routing Y Y Y Y N Y Y7 Y
Operator Connect Y Y Y Y  Y Y7 Y
Miscellaneous
Call toast shows Resource Account Name Y N Y N Y  Y Y
Compliance recording N/A N/A N/A N/A N/A N/A N/A N
Click-to-call Y N N N N N Y Y
